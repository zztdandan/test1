## 访问后端方法介绍

潘智 20190312

1. 访问后端统一使用 axios 组件，感兴趣的可以参考 [官网](https://www.axios.com/)或者[文档](https://www.jianshu.com/p/7a9fbcbb1114)
2. 本框架提供 axios 的包装类——axiosWrap,介绍如下
   - axiosWrap 对象，共有两组函数，分别是 form-data 和 json 方式，
   - form-data 方式：get, post, put, delete, patch
   - json 方式：getJson, postJson, putJson, deleteJson, patchJson
   - 为了统一习惯，所有这些函数的参数均是(url,data,successs,error,options)，除了 url 必填外，其它可不提供，如果提供 options 则传递到底层 axios 的 options 中
   - 其中 successs 和 error 可以分别是数组，如 this.\$\$get(url,data,[fn1,fn2],...)
   - 返回的是 Promise 对象，可以使用 then 和 catch，如 this.$$get(url).then(fn)或者this.$$get(url,data,[fn1,fn2],[fn3,fn4]).then(fn).catch(err)
3. 为了便于使用，分别在 window 和 vue 上绑定这些函数，分别是
   - window.LG_axios = axiosWrap;
   - 使用方法:同一个 window 下，直接使用，如

```
      LG_axios.get(url,data,successs,error,options)
```

- Vue.prototype["$$" + method]=fn,其中是上面提到的 get, post, put, delete, patch 及 getJson, postJson, putJson, deleteJson, patchJson,使用方法是：

```
    this.\$\$get(url,data,successs,error,options),这个特别要注意，使用箭头函数时 this 不在指向 Vue 实例

```

#### 注：源代码在 src\router\axios-wrap.js，感兴趣可以打开看看，欢迎提改进建议或 pr
